webpackJsonp([1],{NGHS:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),e("div",{staticClass:"container"},[e("router-view")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("nav",[e("div",{staticClass:"nav-wrapper blue darken-4"},[e("div",{staticClass:"brand-logo"},[this._v("My e-Store")])])])}]};var o=a("VU/8")({name:"App"},i,!1,function(t){a("kvF8")},null,null).exports,n=a("/ocq"),r=a("kxiW"),c=a.n(r),s=(a("881v"),c.a.initializeApp({apiKey:"AIzaSyAH_7847b75ySrKr3TwhJH06dK-T8PVK0o",authDomain:"vuelist-30d21.firebaseapp.com",databaseURL:"https://vuelist-30d21.firebaseio.com",projectId:"vuelist-30d21",storageBucket:"vuelist-30d21.appspot.com",messagingSenderId:"619594222179"}).firestore()),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Add Product")]),t._v(" "),a("div",{staticClass:"card products__add-product"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addProductData.product_id,expression:"addProductData.product_id"}],staticClass:"validate",attrs:{placeholder:"Id"},domProps:{value:t.addProductData.product_id},on:{input:function(e){e.target.composing||t.$set(t.addProductData,"product_id",e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addProductData.name,expression:"addProductData.name"}],staticClass:"validate",attrs:{placeholder:"name"},domProps:{value:t.addProductData.name},on:{input:function(e){e.target.composing||t.$set(t.addProductData,"name",e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addProductData.price,expression:"addProductData.price"}],staticClass:"validate",attrs:{placeholder:"price"},domProps:{value:t.addProductData.price},on:{input:function(e){e.target.composing||t.$set(t.addProductData,"price",e.target.value)}}})]),t._v(" "),a("div",[a("i",{staticClass:"material-icons medium",on:{click:t.onAdd}},[t._v("add")])])])])},staticRenderFns:[]};var l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Products")]),t._v(" "),t._l(t.sortedProducts,function(e){return a("div",{key:e.product_id,staticClass:"collection"},[t.editId===e.product_id?a("div",{staticClass:"collection-item products__list-item",class:{"yellow lighten-4":t.editId===e.product_id}},[a("div",[t._v(t._s(e.product_id))]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.name,expression:"editProductData.name"}],staticClass:"validate",domProps:{value:t.editProductData.name},on:{input:function(e){e.target.composing||t.$set(t.editProductData,"name",e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editProductData.price,expression:"editProductData.price"}],staticClass:"validate",domProps:{value:t.editProductData.price},on:{input:function(e){e.target.composing||t.$set(t.editProductData,"price",e.target.value)}}})]),t._v(" "),a("div",[a("i",{staticClass:"material-icons",on:{click:function(a){t.onEditSubmit(e)}}},[t._v("check")]),t._v(" "),a("i",{staticClass:"material-icons",on:{click:t.onCancel}},[t._v("cancel")])])]):a("div",{staticClass:"collection-item products__list-item"},[a("div",[t._v(t._s(e.product_id))]),t._v(" "),a("div",[t._v(t._s(e.name))]),t._v(" "),a("div",[t._v(t._s(e.price))]),t._v(" "),a("div",[a("i",{staticClass:"material-icons",on:{click:function(a){t.onEdit(e)}}},[t._v("mode_edit")]),t._v(" "),a("i",{staticClass:"material-icons",on:{click:function(a){t.onDelete(e.product_id)}}},[t._v("delete")]),t._v(" "),a("router-link",{attrs:{to:{name:"ProductPage",params:{product_id:e.product_id}}}},[a("i",{staticClass:"material-icons"},[t._v("search")])])],1)])])})],2)},staticRenderFns:[]};var p={name:"Products",data:function(){return{products:[],addProductData:{product_id:"",name:"",price:""},editId:"",editProductData:{product_id:"",name:"",price:""}}},components:{AddProduct:a("VU/8")({name:"AddProduct",props:["addProductData","onAdd"]},u,!1,function(t){a("oyfT")},"data-v-464ad100",null).exports,ProductsList:a("VU/8")({name:"ProductsList",props:["editId","editProductData","onCancel","onDelete","onEdit","onEditSubmit","sortedProducts"]},l,!1,function(t){a("NGHS")},"data-v-522ef5b5",null).exports},computed:{sortedProducts:function(){return this.products.slice().sort(function(t,e){return t.product_id-e.product_id})}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;s.collection("products").get().then(function(e){var a=[];e.forEach(function(t){a.push(t.data())}),t.products=a})},onAdd:function(){s.collection("products").add(this.addProductData).then(this.getProducts())},onDelete:function(t){var e=this;s.collection("products").where("product_id","==",t).get().then(function(t){t.forEach(function(t){t.ref.delete().then(e.getProducts)})})},onEdit:function(t){this.editId=t.product_id,this.editProductData.name=t.name,this.editProductData.price=t.price},onCancel:function(){this.editId="",this.editProductData.name="",this.editProductData.price=""},onEditSubmit:function(){var t=this;s.collection("products").where("product_id","==",this.editId).get().then(function(e){e.forEach(function(e){e.ref.set({product_id:t.editId,name:t.editProductData.name,price:t.editProductData.price}).then(t.getProducts)}),t.onCancel()})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("add-product",{attrs:{addProductData:t.addProductData,onAdd:t.onAdd}}),t._v(" "),a("products-list",{attrs:{editId:t.editId,editProductData:t.editProductData,onCancel:t.onCancel,onDelete:t.onDelete,onEdit:t.onEdit,onEditSubmit:t.onEditSubmit,sortedProducts:t.sortedProducts}})],1)},staticRenderFns:[]};var m=a("VU/8")(p,v,!1,function(t){a("kBfg")},null,null).exports,_={name:"ProductPage",data:function(){return{name:"",price:"",loaded:!1}},beforeCreate:function(){var t=this;s.collection("products").where("product_id","==",this.$route.params.product_id).get().then(function(e){e.forEach(function(e){var a=e.data(),d=a.name,i=a.price;t.name=d,t.price=i}),t.loaded=!0})}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?a("div",[a("h1",[t._v(t._s(t.name))]),t._v(" "),a("h2",[t._v("$"+t._s(t.price))]),t._v(" "),a("div",{staticClass:"btn"},[t._v("Buy")])]):a("div",[a("h1",[t._v("Loading...")])])])},staticRenderFns:[]};var P=a("VU/8")(_,f,!1,function(t){a("qEOT")},"data-v-4e03a50e",null).exports;d.a.use(n.a);var h=new n.a({routes:[{path:"/",name:"Products",component:m},{path:"/shop/:product_id",name:"ProductPage",component:P}]});d.a.config.productionTip=!1,new d.a({el:"#app",router:h,components:{App:o},template:"<App/>"})},kBfg:function(t,e){},kvF8:function(t,e){},oyfT:function(t,e){},qEOT:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b99fe8778f5118c9a962.js.map